webpackJsonp([5],{"5pxf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n("bOdI"),l=n.n(i),o=n("uRxJ"),s=n("jkKj"),r=n.n(s),c=n("LXNy"),d={data:function(){return{isCollapse:!1,total:null,pageSize:10,currentPage:null,tableData:[],multipleSelection:[],searchInfo:"",dialogObj:{isShow:!1,title:"",rowId:""},VSPOcxClient:""}},methods:(a={tableRowStyle:function(e){e.row,e.rowIndex;return"background-color: pink"},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: lightblue;color: #fff;font-weight: 500;"},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},getTableData:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize};o.a.getList(t).then(function(t){e.tableData=t.records,e.total=t.total})},getCurrentPage:function(){var e=this.$route.query;e&&(e.page?this.currentPage=parseInt(e.page):this.currentPage=1)}},l()(a,"handleClose",function(){this.dialogObj.isShow=!1,this.dialogObj.rowId=""}),l()(a,"handleAdd",function(){console.log(1111),this.dialogObj.isShow=!0,this.dialogObj.title="新增"}),l()(a,"handleEdit",function(){0!=this.multipleSelection.length?1===this.multipleSelection.length?(this.dialogObj.rowId=this.multipleSelection[0].rowId,this.dialogObj.isShow=!0,this.dialogObj.title="编辑"):this.$message({type:"warning",message:"不支持多条编辑"}):this.$message({type:"warning",message:"请先选择一条记录"})}),l()(a,"handleDelete",function(){var e=this;0!=this.multipleSelection.length?this.$confirm("确定要删除此条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[];e.multipleSelection.map(function(e){t.push(e.rowId)}),e.doDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({type:"warning",message:"请先选择一条记录"})}),l()(a,"handleSelectionChange",function(e){this.multipleSelection=e}),l()(a,"current_change",function(e){this.currentPage=e,this.getTableData()}),l()(a,"initVSPOcxClient",function(){VSPOcxClient=document.getElementById("VSPOcxClient"),VSPOcxClient=this.$refs.VSPOcxClient,console.log(VSPOcxClient),VSPOcxClient.LoginServer("192.168.20.124","9534","sunrn","123456")}),l()(a,"initBMap",function(){var e=new r.a.Map("allmap");e.centerAndZoom(new r.a.Point(118.75,32.03),11),e.addControl(new r.a.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]})),e.setMapStyle({style:"midnight"}),e.setCurrentCity("南京"),e.enableScrollWheelZoom(!0)}),l()(a,"init",function(){this.initBMap(),this.getCurrentPage(),this.getTableData()}),a),mounted:function(){this.init()},components:{edit:c.default}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{background:"#fff"}},[n("OBJECT",{ref:"VSPOcxClient",staticStyle:{"z-index":"-1","padding-top":"0px",display:"block"},attrs:{ID:"VSPOcxClient",CLASSID:"CLSID:DBD3400F-F12D-40C4-ACBF-3E1AE70F1558",width:"1",height:"1"}},[n("param",{attrs:{name:"wmode",value:"transparent"}})]),e._v(" "),n("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:e.isCollapse,callback:function(t){e.isCollapse=t},expression:"isCollapse"}},[n("el-radio-button",{attrs:{label:!0}},[e._v("展开")]),e._v(" "),n("el-radio-button",{attrs:{label:!1}},[e._v("收起")])],1),e._v(" "),n("el-button",{on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),n("el-button",{on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}],staticClass:"leftFixed"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-style":e.tableRowStyle,"header-cell-style":e.tableHeaderColor},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{prop:"deviceNo",label:"终端编号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"deviceName",label:"终端名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"ip",label:"IP地址"}})],1),e._v(" "),n("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[n("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"page-size":e.pageSize},on:{"current-change":e.current_change}})],1)],1)]),e._v(" "),n("div",{staticClass:"fli",attrs:{id:"allmap"}}),e._v(" "),n("edit",{attrs:{dialogObj:e.dialogObj},on:{handleClose:e.handleClose,init:e.init}})],1)},staticRenderFns:[]};var p=n("VU/8")(d,u,!1,function(e){n("wWlk")},"data-v-c9c98e76",null);t.default=p.exports},gQde:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.fli[data-v-c9c98e76]{\n  width: 100%;\n  height: 500px;\n  overflow: hidden;\n  margin: 0;\n}\n.leftFixed[data-v-c9c98e76]{\n  position: fixed;\n  z-index: 999;\n  width: 400px;\n}\n.fade-enter-active[data-v-c9c98e76], .fade-leave-active[data-v-c9c98e76] {\n  -webkit-transition: opacity .5s;\n  transition: opacity .5s;\n}\n.fade-enter[data-v-c9c98e76], .fade-leave-to[data-v-c9c98e76] /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n",""])},wWlk:function(e,t,n){var a=n("gQde");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("a95202a0",a,!0)}});