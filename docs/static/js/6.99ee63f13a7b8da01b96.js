webpackJsonp([6],{"1T+r":function(e,n,i){var r=i("lGK5");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("8bSs")("0474604e",r,!0)},"3imJ":function(e,n,i){(e.exports=i("BkJT")(!1)).push([e.i,"\n.warn-content {\r\n    background: rgba(66,185,131,.1);\r\n    border-radius: 2px;\r\n    padding: 16px;\r\n    padding: 1rem;\r\n    line-height: 1.6rem;\r\n    word-spacing: .05rem\n}\n.warn-content a {\r\n    color: #42b983;\r\n    font-weight: 600\n}\n.expand{\r\n  width:100%;\r\n  height:100%;\r\n  overflow:hidden;\n}\n.expand>div{\r\n  height:85%;\r\n  padding-top:20px;\r\n  width:50%;\r\n  margin:20px auto;\r\n  max-width:400px;\r\n  overflow-y:auto;\n}\n.expand>div::-webkit-scrollbar-track{\r\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\n          box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\n  border-radius:5px;\n}\n.expand>div::-webkit-scrollbar-thumb{\r\n  background-color:rgba(50, 65, 87, 0.5);\r\n  outline:1px solid slategrey;\r\n  border-radius:5px;\n}\n.expand>div::-webkit-scrollbar{\r\n  width:10px;\n}\n.expand-tree{\r\n  border:none;\r\n  margin-top:10px;\n}\n.expand-tree .el-tree-node.is-current,\r\n.expand-tree .el-tree-node:hover{\r\n  overflow:hidden;\n}\n.expand-tree .is-current>.el-tree-node__content .tree-btn,\r\n.expand-tree .el-tree-node__content:hover .tree-btn{\r\n  display:inline-block;\n}\n.expand-tree .is-current>.el-tree-node__content .tree-label{\r\n  font-weight:600;\r\n  white-space:normal;\n}\r\n",""])},TfcR:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("span",{staticClass:"tree-expand"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.DATA.isEdit,expression:"DATA.isEdit"}],staticClass:"tree-label"},[i("el-input",{ref:"treeInput"+e.DATA.id,staticClass:"edit",attrs:{size:"mini",autofocus:""},on:{blur:function(n){n.stopPropagation(),e.nodeEditPass(e.STORE,e.DATA,e.NODE)}},nativeOn:{click:function(n){return n.stopPropagation(),e.nodeEditFocus(n)},keyup:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.stopPropagation(),e.nodeEditPass(e.STORE,e.DATA,e.NODE)}},model:{value:e.DATA.name,callback:function(n){e.$set(e.DATA,"name",n)},expression:"DATA.name"}})],1),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.DATA.isEdit,expression:"!DATA.isEdit"}],class:[e.DATA.id>e.maxexpandId?"tree-new tree-label":"tree-label"]},[i("span",[e._v(e._s(e.DATA.name))])]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.DATA.isEdit,expression:"!DATA.isEdit"}],staticClass:"tree-btn"},[i("i",{staticClass:"el-icon-plus",on:{click:function(n){n.stopPropagation(),e.nodeAdd(e.STORE,e.DATA,e.NODE)}}}),e._v(" "),i("i",{staticClass:"el-icon-edit",on:{click:function(n){n.stopPropagation(),e.nodeEdit(e.STORE,e.DATA,e.NODE)}}}),e._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:function(n){n.stopPropagation(),e.nodeDel(e.STORE,e.DATA,e.NODE)}}})])])},staticRenderFns:[]};var t=i("/Xao")({name:"nx-tree-render",props:["NODE","DATA","STORE","maxexpandId"],methods:{nodeAdd:function(e,n,i){this.$emit("nodeAdd",e,n,i)},nodeEdit:function(e,n,i){var r=this;n.isEdit=!0,this.$nextTick(function(){r.$refs["treeInput"+n.id].$refs.input.focus()}),this.$emit("nodeEdit",e,n,i)},nodeDel:function(e,n,i){this.$emit("nodeDel",e,n,i)},nodeEditPass:function(e,n,i){n.isEdit=!1},nodeEditFocus:function(){}}},r,!1,function(e){i("1T+r")},null,null).exports,d={maxexpandId:95,treelist:[{id:1,name:"北京市",ProSort:1,remark:"直辖市",pid:"",isEdit:!1,children:[{id:35,name:"朝阳区",pid:1,remark:"",isEdit:!1,children:[]},{id:36,name:"海淀区",pid:1,remark:"",isEdit:!1,children:[]},{id:37,name:"房山区",pid:1,remark:"",isEdit:!1,children:[]},{id:38,name:"丰台区",pid:1,remark:"",isEdit:!1,children:[]},{id:39,name:"昌平区",pid:1,remark:"",isEdit:!1,children:[]},{id:40,name:"大兴区",pid:1,remark:"",isEdit:!1,children:[]}]},{id:2,name:"天津市",ProSort:2,remark:"直辖市",pid:"",isEdit:!1,children:[{id:41,name:"北辰区",pid:2,remark:"",isEdit:!1,children:[]},{id:42,name:"河北区",pid:2,remark:"",isEdit:!1,children:[]},{id:43,name:"西青区",pid:2,remark:"",isEdit:!1,children:[]},{id:44,name:"东丽区",pid:2,remark:"",isEdit:!1,children:[]}]},{id:3,name:"河北省",ProSort:5,remark:"省份",pid:"",isEdit:!1,children:[{id:45,name:"衡水市",pid:3,remark:"",isEdit:!1,children:[]},{id:46,name:"张家口市",pid:3,remark:"",isEdit:!1,children:[]},{id:47,name:"秦皇岛市",pid:3,remark:"",isEdit:!1,children:[]},{id:48,name:"承德市",pid:3,remark:"",isEdit:!1,children:[]},{id:49,name:"邯郸市",pid:3,remark:"",isEdit:!1,children:[]}]},{id:4,name:"山西省",ProSort:6,remark:"省份",pid:"",isEdit:!1,children:[{id:50,name:"大同市",pid:4,remark:"",isEdit:!1,children:[]}]},{id:5,name:"内蒙古自治区",ProSort:32,remark:"自治区",pid:"",isEdit:!1,children:[{id:51,name:"包头市",pid:5,remark:"",isEdit:!1,children:[]}]},{id:6,name:"辽宁省",ProSort:8,remark:"省份",pid:"",isEdit:!1,children:[{id:52,name:"大连市",pid:6,remark:"",isEdit:!1,children:[]},{id:53,name:"太原市",pid:6,remark:"",isEdit:!1,children:[]}]},{id:20,name:"海南省",ProSort:24,remark:"省份",pid:"",isEdit:!1,children:[{id:68,name:"海口市",pid:20,remark:"",isEdit:!1,children:[]}]},{id:21,name:"广西壮族自治区",ProSort:28,remark:"自治区",pid:"",isEdit:!1,children:[{id:69,name:"玉林市",pid:21,remark:"",isEdit:!1,children:[]},{id:86,name:"贺州市",pid:21,remark:"",isEdit:!1,children:[]}]},{id:22,name:"甘肃省",ProSort:21,remark:"省份",pid:"",isEdit:!1,children:[{id:70,name:"兰州市",pid:22,remark:"",isEdit:!1,children:[]}]},{id:23,name:"陕西省",ProSort:27,remark:"省份",pid:"",isEdit:!1,children:[{id:71,name:"咸阳市",pid:23,remark:"",isEdit:!1,children:[]},{id:87,name:"安康市",pid:23,remark:"",isEdit:!1,children:[]}]},{id:24,name:"新疆维吾尔自治区",ProSort:31,remark:"自治区",pid:"",isEdit:!1,children:[{id:72,name:"乌鲁木齐市",pid:24,remark:"",isEdit:!1,children:[]},{id:88,name:"和田地区",pid:24,remark:"",isEdit:!1,children:[]},{id:89,name:"阿勒泰州",pid:24,remark:"",isEdit:!1,children:[]}]},{id:25,name:"青海省",ProSort:26,remark:"省份",pid:"",isEdit:!1,children:[{id:73,name:"黄南藏族自治州",pid:25,remark:"",isEdit:!1,children:[]}]},{id:26,name:"宁夏回族自治区",ProSort:30,remark:"自治区",pid:"",isEdit:!1,children:[{id:74,name:"银川市",pid:26,remark:"",isEdit:!1,children:[]}]}]},a={name:"tree",data:function(){return{maxexpandId:d.maxexpandId,non_maxexpandId:d.maxexpandId,isLoadingTree:!1,setTree:d.treelist,defaultProps:{children:"children",label:"name"},defaultExpandKeys:[]}},mounted:function(){console.log(d),this.initExpand()},methods:{initExpand:function(){var e=this;this.setTree.map(function(n){e.defaultExpandKeys.push(n.id)}),this.isLoadingTree=!0},handleNodeClick:function(e,n,i){e.isEdit=!1},renderContent:function(e,n){var i=n.node,r=n.data,d=n.store,a=this;return e(t,{props:{DATA:r,NODE:i,STORE:d,maxexpandId:a.non_maxexpandId},on:{nodeAdd:function(e,n,i){return a.handleAdd(e,n,i)},nodeEdit:function(e,n,i){return a.handleEdit(e,n,i)},nodeDel:function(e,n,i){return a.handleDelete(e,n,i)}}})},handleAddTop:function(){this.setTree.push({id:++this.maxexpandId,name:"新增节点",pid:"",isEdit:!1,children:[]})},handleAdd:function(e,n,i){if(console.log(e,n,i),i.level>=6)return this.$message.error("最多只支持五级！"),!1;n.children.push({id:++this.maxexpandId,name:"新增节点",pid:n.id,isEdit:!1,children:[]}),i.expanded||(i.expanded=!0)},handleEdit:function(e,n,i){console.log(e,n,i)},handleDelete:function(e,n,i){var r=this;console.log(e,n,i);var t=this;if(n.children&&0!==n.children.length)return this.$message.error("此节点有子级，不可删除！"),!1;var d=function(){var e=i.parent.data.children||i.parent.data,t=99999;e.map(function(e,i){n.id===e.id&&(t=i)});var d=e.splice(t,1);console.log(t,d),r.$message.success("删除成功！")};n.id>this.non_maxexpandId?d():t.$confirm("是否删除此节点？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){d()}).catch(function(){return!1})}}},o={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"expand"},[e._m(0),e._v(" "),i("div",[i("el-button",{on:{click:e.handleAddTop}},[e._v("添加顶级节点")]),e._v(" "),e.isLoadingTree?i("el-tree",{ref:"expandMenuList",staticClass:"expand-tree",attrs:{data:e.setTree,"node-key":"id","highlight-current":"",props:e.defaultProps,"expand-on-click-node":!1,"render-content":e.renderContent},on:{"node-click":e.handleNodeClick}}):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("p",{staticClass:"warn-content"},[n("a",{attrs:{href:"https://xiaoniezi.github.io/2017-10-16/vue-ElementUI-tree-expand/",target:"_blank"}},[this._v("Tree组件参考 tree\n    ")])])}]};var s=i("/Xao")(a,o,!1,function(e){i("hP5P")},null,null);n.default=s.exports},hP5P:function(e,n,i){var r=i("3imJ");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("8bSs")("74c333c4",r,!0)},lGK5:function(e,n,i){(e.exports=i("BkJT")(!1)).push([e.i,"\n.tree-expand{\n\toverflow:hidden;\n}\n.tree-expand .tree-label.tree-new{\n\tfont-weight:600;\n}\n.tree-expand .tree-label{\n\tfont-size:0.9em;\n}\n.tree-expand .tree-label .edit{\n\twidth:80%;\n}\n.tree-expand .tree-btn{\n\tdisplay:none;\n\tfloat:right;\n\tmargin-right:20px;\n}\n.tree-expand .tree-btn i{\n\tcolor:#8492a6;\n\tfont-size:0.9em;\n\tmargin-right:3px;\n}\n",""])}});