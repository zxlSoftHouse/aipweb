webpackJsonp([11],{"+uVS":function(t,e,a){var n=a("2zLG");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("cd646a4e",n,!0)},"2zLG":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.fc-toolbar h2 {\n  font-size: 16px;\n  color: #a7800d;\n  margin-top: 6px;\n}\n.fc-unthemed td.fc-today {\n  border-radius: 4px;\n  background: rgba(30, 74, 105, 0.8);\n}\n.fc-button {\n  background: rgba(30, 74, 105, 0.8);\n  color: #fff;\n}\n.fc-state-disabled {\n  opacity: 0.5;\n}\n.fc-basic-view .fc-body .fc-row {\n  min-height: 0;\n}\n.fc-toolbar.fc-header-toolbar {\n  height: 23px;\n}\n.fc-unthemed .fc-content,\n.fc-unthemed .fc-divider,\n.fc-unthemed .fc-list-heading td,\n.fc-unthemed .fc-list-view,\n.fc-unthemed .fc-popover,\n.fc-unthemed .fc-row,\n.fc-unthemed tbody,\n.fc-unthemed td,\n.fc-unthemed th,\n.fc-unthemed thead {\n  border-color: transparent;\n}\n.fc-head {\n  background: rgba(30, 74, 105, 0.8);\n}\n.fc-day-header,\n.fc .fc-row .fc-content-skeleton td {\n  text-align: center !important;\n}\n.fc-ltr .fc-basic-view .fc-day-top .fc-day-number {\n  float: none;\n}\n#home.el-main {\n  padding: 0;\n}\n#home.el-main .el-card {\n    background: #032f68;\n    border: 0;\n    color: #fff;\n    margin-bottom: 10px;\n}\n#home.el-main .el-card .el-card__header {\n      border-bottom: 0;\n      padding: 10px 15px;\n      font-size: 16px;\n}\n#home.el-main .el-card .el-card__body {\n      background: #001d53;\n      padding: 10px 15px;\n      font-size: 15px;\n}\n#home.el-main .el-card.box-equipment-statistics ul {\n      overflow: hidden;\n}\n#home.el-main .el-card.box-equipment-statistics ul > li {\n        float: left;\n        text-align: center;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child {\n        margin: 20px 0;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child > li {\n          width: 33.33%;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child > li em {\n            font-size: 20px;\n            margin-left: 15px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child > li.online em {\n            color: #4893cd;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child > li.offline em {\n            color: #a4a4a4;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li {\n        width: 25%;\n        padding: 10px 0 30px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li i {\n          color: #4893cd;\n          font-size: 35px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li p {\n          margin-top: 15px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul {\n      overflow: hidden;\n      margin: 20px 0 30px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul > li {\n        float: left;\n        width: 50%;\n        padding-left: 10px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul > li em {\n          font-size: 20px;\n          color: #4893cd;\n          margin-left: 30px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul + div {\n        height: 248px;\n}\n#home.el-main .el-card.lamp-info ul {\n      overflow: hidden;\n}\n#home.el-main .el-card.lamp-info ul li {\n        float: left;\n        width: 33.33%;\n        text-align: center;\n        border-right: 1px solid #226EA7;\n}\n#home.el-main .el-card.lamp-info ul li:last-child {\n          border-right: 0;\n}\n#home.el-main .el-card.lamp-info ul li em {\n          display: block;\n          font-size: 18px;\n          color: #4893cd;\n          margin-top: 15px;\n          -moz-margin-top: 15px;\n}\n#home.el-main .el-card.lamp-info ul:nth-child(2) {\n        margin: 5px 0;\n        border-top: 1px solid #226EA7;\n        border-bottom: 1px solid #226EA7;\n}\n#home.el-main .el-card.lamp-info ul:nth-child(2) li {\n          border-right: 0;\n          padding: 0 0 10px;\n}\n#home.el-main .el-card.lamp-info ul:nth-child(2) li:first-child {\n            padding-top: 50px;\n}\n#home.el-main .el-card.lamp-info ul:last-child li {\n        width: 50%;\n}\n#home.el-main .el-card.box-map .el-card__body {\n      height: 600px;\n      padding: 0;\n}\n#home.el-main .el-card.box-chart .el-card__body > div {\n      height: 180px;\n}\n@media screen and (max-height: 975px) {\n#calendar {\n    height: 236px;\n}\n#home.el-main .el-card {\n    margin-bottom: 8px;\n}\n#home.el-main .el-card .el-card__header {\n      padding: 8px 15px;\n}\n#home.el-main .el-card .el-card__body {\n      padding: 8px 15px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li {\n      padding: 9px 0 30px;\n}\n#home.el-main .el-card.box-map .el-card__body {\n      height: 589px;\n}\n}\n@media screen and (max-width: 1366px) and (max-height: 768px) {\n#calendar {\n    height: 161px;\n}\n.fc-basic-view .fc-body .fc-row {\n    height: 20px !important;\n}\n.fc button {\n    height: 20px;\n}\n.fc-toolbar h2 {\n    margin-top: 0;\n    font-size: 15px;\n}\n.fc-toolbar.fc-header-toolbar {\n    height: 10px;\n}\n#home.el-main {\n    width: 100%;\n}\n#home.el-main .el-card {\n      margin-bottom: 5px;\n}\n#home.el-main .el-card .el-card__header {\n        padding: 5px 15px;\n        font-size: 15px;\n}\n#home.el-main .el-card .el-card__body {\n        padding: 5px 15px;\n        font-size: 14px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child {\n        margin: 15px 0;\n}\n#home.el-main .el-card.box-equipment-statistics ul:first-child > li em {\n          font-size: 19px;\n          margin-left: 15px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li {\n        padding: 0 0 10px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li i {\n          font-size: 30px;\n}\n#home.el-main .el-card.box-equipment-statistics ul:last-child > li p {\n          margin-top: 10px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul {\n        margin: 15px 0 25px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul > li em {\n          font-size: 19px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul + div {\n          height: 230px;\n}\n#home.el-main .el-card.lamp-info ul li em {\n        font-size: 17px;\n        margin-top: 10px;\n}\n#home.el-main .el-card.lamp-info ul:nth-child(2) {\n        margin: 5px 0;\n}\n#home.el-main .el-card.lamp-info ul:nth-child(2) li {\n          padding: 0 0 10px;\n}\n#home.el-main .el-card.lamp-info ul:nth-child(2) li:first-child {\n            padding-top: 40px;\n}\n#home.el-main .el-card.box-map .el-card__body {\n        height: 477px;\n}\n#home.el-main .el-card.box-chart .el-card__body > div {\n        height: 142px;\n}\n}\n@media screen and (min-height: 1000px) {\n#home.el-main {\n    padding: 0;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul {\n      margin: 30px 0 60px;\n}\n#home.el-main .el-card.box-alarm-analysis .el-card__body > div ul + div {\n        height: 298px;\n}\n#home.el-main .el-card.box-chart .el-card__body > div {\n      height: 270px;\n}\n}\n",""])},aXNf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("5wQ8"),i=(a("XLwt"),a("j67P")),l=a("QaH6"),o=(a("AixB"),a("vLgD")),r=function(){return Object(o.a)({url:"api/SERVICE-AIP/aipIndex/getIndexData",method:"get"})},d=a("BW9m"),s={name:"home",components:{echart:n.a,bmap:i.a,FullCalendar:l.a},data:function(){return{timeIntervalObject:null,mapInfo:{center:{lng:"",lat:""},markerPoint:{lng:"",lat:""},markerList:[]},deviceTotal:0,deviceOnline:0,deviceOffline:0,deviceData:{wifiData:{name:"WIFI",deviceTotal:0,deviceOnline:0},chargePileData:{name:"charger",deviceTotal:0,deviceOnline:0},broadcastData:{name:"broadcast",deviceTotal:0,deviceOnline:0},sensorData:{name:"chuanganqi",deviceTotal:0,deviceOnline:0},LEDScreenData:{name:"AirplayFilled",deviceTotal:0,deviceOnline:0},cameraData:{name:"shipingtonghua",deviceTotal:0,deviceOnline:0},emergencyCallData:{name:"app_icons--",deviceTotal:0,deviceOnline:0},lampData:{name:"zhaoming",deviceTotal:0,deviceOnline:0,deviceOpen:0}},alarmTotal:0,unAlarmSolved:0,centralizedControlNum:0,roadNum:0,thisMonth:0,energyData:{lastMonth:0,lastYearMonth:0},calendarConfig:{locale:"zh-cn",defaultView:"month",height:233,handleWindowResize:!0,header:{left:"prev, next, today",center:"title",right:"custom"}},alarm_analysis_chart:"alarm-analysis-chart",option1:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:[this.$i18n.t("device.zhaoming"),"LED","Wifi",this.$i18n.t("device.chuanganqi"),this.$i18n.t("device.charger"),this.$i18n.t("device.broadcast"),this.$i18n.t("device.shipingtonghua"),this.$i18n.t("device.app_icons--")],textStyle:{color:"#fff"},padding:[20,0,20,30]},series:[{name:this.$i18n.t("homePage.alarmAnalysis.title"),type:"pie",radius:["55%","40%"],center:["65%","35%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:0,name:this.$i18n.t("device.zhaoming")},{value:0,name:"LED"},{value:0,name:"Wifi"},{value:0,name:this.$i18n.t("device.chuanganqi")},{value:0,name:this.$i18n.t("device.charger")},{value:0,name:this.$i18n.t("device.broadcast")},{value:0,name:this.$i18n.t("device.shipingtonghua")},{value:0,name:this.$i18n.t("device.app_icons--")}]}],animation:!1},option2:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:[]},series:[{name:"同比",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"20",color:"#5AB1EF"}},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:0},{value:0,name:0}]}],color:["#ffffff","#5AB1EF"],animation:!1},option3:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:[]},series:[{name:"环比",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"20",color:"#E8AC1D"}},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:0},{value:0,name:0}]}],color:["#ffffff","#E8AC1D"],animation:!1},option4:{color:["#3398DB"],tooltip:{trigger:"axis"},legend:{data:["月度能耗"],x:"right",textStyle:{color:"#ffffff",fontSize:16}},grid:{left:"45",right:"90",top:"40",bottom:"10",containLabel:!0},toolbox:{},xAxis:{type:"category",boundaryGap:!1,name:"月份",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{show:!0,textStyle:{color:"#fff",fontSize:14}},nameTextStyle:{color:"#fff",fontSize:14},axisLine:{lineStyle:{color:"#226EA7",width:2}}},yAxis:{type:"value",name:"能耗/Kwh",axisLabel:{show:!0,textStyle:{color:"#fff",fontSize:14}},nameTextStyle:{color:"#fff",fontSize:14},lineStyle:{color:"#fff",width:2},axisLine:{lineStyle:{color:"#226EA7",width:2}},splitLine:{show:!1}},series:[{name:"月度能耗",type:"line",stack:"月度能耗",symbol:"circle",symbolSize:8,itemStyle:{normal:{shadowBlur:5,shadowColor:"rgba(36,174,244,0.5)",borderColor:"#24aef4",lineStyle:{shadowBlur:5,shadowColor:"rgba(36,174,244,0.5)",borderColor:"#24aef4"}}},data:[3,4,3.5,2.8,2.6,2.4,2.2,2,2.4,2.6,2.8,5]}]},option5:{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["年度能耗"],x:"right",textStyle:{color:"#ffffff",fontSize:14}},grid:{left:"45",right:"90",top:"40",bottom:"10",containLabel:!0},xAxis:[{type:"category",data:["2014","2015","2016","2017","2018"],name:"年份",axisTick:{alignWithLabel:!0},axisLabel:{show:!0,textStyle:{color:"#fff",fontSize:14}},nameTextStyle:{color:"#fff",fontSize:14},axisLine:{lineStyle:{color:"#226EA7",width:2}},splitLine:{show:!1}}],yAxis:[{type:"value",name:"总能耗/Kwh",axisLabel:{show:!0,textStyle:{color:"#fff",fontSize:14}},nameTextStyle:{color:"#fff",fontSize:14},axisLine:{lineStyle:{color:"#226EA7",width:2}},splitLine:{show:!1}}],series:[{name:"年度能耗",type:"bar",barWidth:"60%",data:[4,3.8,3.5,3,3.1],itemStyle:{normal:{shadowBlur:20,shadowColor:"rgba(36,174,244,0.5)",borderColor:"#24d8fc"}}}]}}},methods:{toFixNum:function(t,e){return parseFloat(t.toFixed(e))},energyChartFoo:function(t,e){t[0].value=e,t[1].value=this.thisMonth,e+this.thisMonth==0?0!=this.thisMonth?t[1].name="100%":t[1].name="0%":t[1].name=(this.thisMonth/(e+this.thisMonth)*100).toFixed(0)+"%"},getLampData:function(t){this.centralizedControlNum=t.centralizedControlNum,this.roadNum=t.roadNum;var e=t.energyData;this.thisMonth=this.toFixNum(e.thisMonth,2),window.compareMonth1=this.toFixNum(e.lastMonth,2),window.compareMonth2=this.toFixNum(e.lastYearMonth,2);for(var a=0;a<2;a++)this.energyChartFoo(this["option"+(a+2)].series[0].data,window["compareMonth"+(a+1)])},getDeviceData:function(t){for(var e in this.deviceTotal=this.deviceOnline=0,this.deviceData)this.deviceData[e].deviceTotal=t[e].deviceTotal,this.deviceData[e].deviceOnline=t[e].deviceOnline,this.deviceTotal+=this.deviceData[e].deviceTotal,this.deviceOnline+=this.deviceData[e].deviceOnline;this.deviceOffline=this.deviceTotal-this.deviceOnline},getAlarmData:function(t,e){e[0].value=this.alarmTotal=this.unAlarmSolved=0;for(var a=0;a<t.length;a++)0!=t[a].deviceType&&1!=t[a].deviceType||(e[0].value+=parseInt(t[a].alarmNum)),2==t[a].deviceType&&(e[3].value=parseInt(t[a].alarmNum)),this.alarmTotal+=parseInt(t[a].alarmNum),this.unAlarmSolved+=parseInt(t[a].noSolvedNum)},getData:function(){var t=this;r().then(function(e){t.getDeviceData(e),t.getAlarmData(e.alarmData,t.option1.series[0].data),t.getLampData(e)})}},beforeMount:function(){var t=this;d.a.getLampPost().then(function(e){t.mapInfo.markerList=e.map(function(t){return new BMap.Point(t.longitude,t.latitude)}),t.mapInfo.center.lng=t.mapInfo.markerList[0].lng,t.mapInfo.center.lat=t.mapInfo.markerList[0].lat})},created:function(){this.getData()},mounted:function(){var t=this;this.timeIntervalObject=setInterval(function(){t.getData()},2e4)},destroyed:function(){clearInterval(this.timeIntervalObject)}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",{attrs:{id:"home"}},[a("el-row",[a("el-col",{staticStyle:{"padding-right":"5px"},attrs:{span:6}},[a("el-card",{staticClass:"box-equipment-statistics"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("homePage.deviceStatistics.title")))])]),t._v(" "),a("div",[a("ul",[a("li",{staticClass:"total"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("homePage.sum"))+"\n\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.deviceTotal))])]),t._v(" "),a("li",{staticClass:"online"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("homePage.online"))+"\n\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.deviceOnline))])]),t._v(" "),a("li",{staticClass:"offline"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("homePage.offline"))+"\n\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.deviceOffline))])])]),t._v(" "),a("ul",t._l(t.deviceData,function(e,n,i){return a("li",[a("i",{staticClass:"iconfont",class:"icon-"+e.name}),t._v(" "),a("p",[t._v(t._s(t.$t("device."+e.name)))]),t._v(" "),a("p",[t._v(t._s(e.deviceOnline+"/"+e.deviceTotal))])])}),0)])]),t._v(" "),a("el-card",{staticClass:"box-alarm-analysis"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("homePage.alarmAnalysis.title")))])]),t._v(" "),a("div",[a("ul",[a("li",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("homePage.alarmAnalysis.totalAlarmNumber"))+"\n\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.alarmTotal))])]),t._v(" "),a("li",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("homePage.alarmAnalysis.unprocessed"))+"\n\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.unAlarmSolved))])])]),t._v(" "),a("div",[a("echart",{attrs:{chartData:t.option1,className:t.alarm_analysis_chart}})],1)])])],1),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-card",{staticClass:"box-map"},[a("bmap",{attrs:{setMarker:!1,mapInfo:t.mapInfo}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"padding-left":"5px"},attrs:{span:8}},[a("el-card",{staticClass:"box-right-top"},[a("div",[a("full-calendar",{attrs:{config:t.calendarConfig}})],1)]),t._v(" "),a("el-card",{staticClass:"lamp-info"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("homePage.streetLampInformation.title")))])]),t._v(" "),a("div",[a("ul",[a("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.sum"))+"\n\t\t\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.deviceData.lampData.deviceTotal))])]),t._v(" "),a("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.online"))+"\n\t\t\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.deviceData.lampData.deviceOnline))])]),t._v(" "),a("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.onlineRate"))+"\n\t\t\t\t\t\t\t\t\t"),a("em",[t._v(t._s((t.deviceData.lampData.deviceOnline/t.deviceData.lampData.deviceTotal*100).toFixed(1))+" %")])])]),t._v(" "),a("ul",[a("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.streetLampInformation.thisMonthElectricity"))+"\n\t\t\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.thisMonth)+" Kwh")])]),t._v(" "),a("li",[a("div",{staticStyle:{height:"110px"}},[a("echart",{attrs:{chartData:t.option2,className:t.alarm_analysis_chart}})],1),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.streetLampInformation.Y2Y"))+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("li",[a("div",{staticStyle:{height:"110px"}},[a("echart",{attrs:{chartData:t.option3,className:t.alarm_analysis_chart}})],1),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.streetLampInformation.M2M"))+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),a("ul",[a("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.streetLampInformation.numberOfControllers"))+"\n\t\t\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.centralizedControlNum))])]),t._v(" "),a("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("homePage.streetLampInformation.totalNumberOfSections"))+"\n\t\t\t\t\t\t\t\t\t"),a("em",[t._v(t._s(t.roadNum))])])])])])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:14}},[a("el-card",{staticClass:"box-chart"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("homePage.monthlyEnergyConsumption.title")))])]),t._v(" "),a("div",[a("echart",{attrs:{chartData:t.option4,className:t.alarm_analysis_chart}})],1)])],1),t._v(" "),a("el-col",{staticStyle:{"padding-left":"5px"},attrs:{span:10}},[a("el-card",{staticClass:"box-chart"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("homePage.annualEnergyConsumption.title")))])]),t._v(" "),a("div",[a("echart",{attrs:{chartData:t.option5,className:t.alarm_analysis_chart}})],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(s,c,!1,function(t){a("+uVS")},null,null);e.default=m.exports}});